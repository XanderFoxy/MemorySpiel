<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory</title>
<style>
:root{
  --primary-color:#ff4c4c;
  --secondary-color:#ffd700;
  --card-back-color:#ff4c4c;
  --text-color:#333;
  --match-color:#38c738;
  --error-color:#ff3838;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{font-family:sans-serif;background:linear-gradient(135deg,#e0eafc,#cfdef3);color:var(--text-color);min-height:100vh;padding:20px;}
a.back-link{display:inline-block;text-decoration:none;color:var(--primary-color);padding:8px 15px;border-radius:25px;background:white;box-shadow:0 4px 6px rgba(0,0,0,0.1);margin-bottom:20px;}
a.back-link:hover{background:#f0f0f0;}
.game-container{display:flex;max-width:1200px;margin:0 auto;background:white;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.2);overflow:hidden;flex-wrap:wrap;}
.sidebar{width:250px;background:var(--primary-color);color:white;padding:30px 20px;text-align:center;}
.sidebar h2{margin-bottom:25px;border-bottom:2px solid var(--secondary-color);padding-bottom:10px;}
.sidebar nav{display:flex;flex-direction:column;gap:10px;}
.theme-button{background:var(--card-back-color);color:white;border:none;padding:12px;border-radius:8px;cursor:pointer;font-size:1rem;transition:0.3s;}
.theme-button:hover{background:var(--secondary-color);color:var(--primary-color);transform:translateX(5px);}
.main-content{flex-grow:1;padding:30px;display:flex;flex-direction:column;align-items:center;}
.main-content h1{color:var(--primary-color);margin-bottom:20px;font-size:2.5rem;}
.stats{width:100%;max-width:600px;display:flex;justify-content:space-around;padding:15px;margin-bottom:20px;background:#f0f4f8;border-radius:10px;font-weight:bold;}
.memory-grid{display:grid;gap:10px;padding:10px;background:#fff;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.1);width:100%;max-width:900px;}
.memory-card{position:relative;perspective:1000px;cursor:pointer;transform-style:preserve-3d;transition:transform 0.6s;border-radius:8px;aspect-ratio:1/1;}
.memory-card.flip{transform:rotateY(180deg);}
.memory-card.match{pointer-events:none;border:3px solid var(--match-color);}
.memory-card.error{border:3px solid var(--error-color);}
.front-face,.back-face{width:100%;height:100%;position:absolute;border-radius:8px;backface-visibility:hidden;}
.front-face{transform:rotateY(180deg);border:1px solid #ddd;}
.front-face img{width:100%;height:100%;object-fit:cover;object-position:center;border-radius:8px;}
.back-face{background-color:var(--card-back-color);display:flex;justify-content:center;align-items:center;font-size:2rem;color:white;border:3px solid var(--secondary-color);}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:flex;justify-content:center;align-items:center;z-index:1000;opacity:0;visibility:hidden;transition:0.3s;}
.overlay.active{opacity:1;visibility:visible;}
.overlay-content{background:white;padding:30px;border-radius:15px;text-align:center;box-shadow:0 10px 30px rgba(0,0,0,0.5);transform:scale(0.8);transition:0.3s;}
.overlay.active .overlay-content{transform:scale(1);}
#gallery-images{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:10px;}
#gallery-images img{width:80px;height:80px;object-fit:cover;border-radius:5px;border:2px solid var(--primary-color);}
#close-gallery{background:var(--secondary-color);color:var(--primary-color);border:none;padding:10px 20px;border-radius:20px;cursor:pointer;font-weight:bold;}
#close-gallery:hover{opacity:0.9;}
.slider-container{width:80%;max-width:400px;margin:20px 0;display:flex;align-items:center;gap:10px;justify-content:center;}
input[type=range]{width:100%;-webkit-appearance:none;background:transparent;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:30px;width:30px;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><text y="20" font-size="20">&#129419;</text></svg>') no-repeat center center;background-size:contain;cursor:pointer;border:none;border-radius:50%;}
input[type=range]::-webkit-slider-runnable-track{height:8px;background:#ccc;border-radius:5px;}
</style>
</head>
<body>
<a href="https://xanderfoxy.github.io/AsmaasWunderland" class="back-link">&#x2B05; ZurÃ¼ck zu Asmaas Wunderland</a>
<div class="game-container">
<aside class="sidebar">
<h2>Themenwahl</h2>
<nav>
<button class="theme-button" data-theme="InItalien">In Italien</button>
<button class="theme-button" data-theme="BabyFox">Baby Fox</button>
<button class="theme-button" data-theme="ThroughTheYears">Through The Years</button>
<button class="theme-button" data-theme="Gemixt">Gemixt</button>
</nav>
<div class="slider-container">
<label>Leicht</label>
<input type="range" min="0" max="1" value="0" id="difficulty">
<label>Schwer</label>
</div>
</aside>
<main class="main-content">
<h1>Memory</h1>
<div class="stats"><span id="moves">ZÃ¼ge: 0</span> | <span id="pairs-found">Gefunden: 0</span></div>
<div class="memory-grid"></div>
<div id="gallery-overlay" class="overlay">
<div class="overlay-content">
<h2>Gefundene Bilder</h2>
<div id="gallery-images"></div>
<button id="close-gallery">Neues Spiel</button>
</div>
</div>
</main>
</div>
<script>
const BASE_URL='Bilder/';
const memoryGrid=document.querySelector('.memory-grid');
const statsMoves=document.getElementById('moves');
const statsPairsFound=document.getElementById('pairs-found');
const galleryOverlay=document.getElementById('gallery-overlay');
const galleryImagesContainer=document.getElementById('gallery-images');
const closeGalleryButton=document.getElementById('close-gallery');
const themeButtons=document.querySelectorAll('.theme-button');
const difficultySlider=document.getElementById('difficulty');

let cards=[],firstCard=null,secondCard=null,lockBoard=false,moves=0,pairsFound=0,maxPairs=0,matchedImages=[];
const IN_ITALIEN_FILES=['InItalien/Al ven7.jpeg','InItalien/IMG0051.jpeg','InItalien/IMG0312.jpeg','InItalien/IMG6917.jpeg','InItalien/IMG8499.jpeg','InItalien/IMG9287.jpeg','InItalien/IMG9332.jpeg','InItalien/IMG9352.jpeg','InItalien/IMG9369.jpeg','InItalien/IMG9370.jpeg','InItalien/IMG9470.jpeg','InItalien/IMG9480.jpeg','InItalien/IMG9592.jpeg','InItalien/IMG9593.jpeg','InItalien/IMG9594.jpeg','InItalien/IMG9597.jpeg','InItalien/IMG9598.jpeg','InItalien/IMG9599.jpeg','InItalien/QgNsMtTA.jpeg'];

const gameConfigs={
'InItalien':{imagePaths:IN_ITALIEN_FILES},
'BabyFox':{imagePaths:Array.from({length:12},(_,i)=>`BabyFox/${i+1}.jpeg`)},
'ThroughTheYears':{imagePaths:Array.from({length:12},(_,i)=>`ThroughTheYears/${i+1}.jpeg`)},
'Gemixt':{imagePaths:[]}
};

function shuffle(a){for(let i=a.length-1;i>0;i--){let j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}}

let currentTheme='Gemixt';
let currentConfig=gameConfigs[currentTheme];

function setupGame(){
memoryGrid.innerHTML='';cards=[];firstCard=null;secondCard=null;lockBoard=false;moves=0;pairsFound=0;matchedImages=[];
statsMoves.textContent=`ZÃ¼ge: ${moves}`;statsPairsFound.textContent=`Gefunden: ${pairsFound}`;
let selectedPaths;
if(currentTheme==='Gemixt'){
 selectedPaths=[];
 ['BabyFox','ThroughTheYears','InItalien'].forEach(f=>{let imgs=gameConfigs[f].imagePaths.slice();shuffle(imgs);selectedPaths=selectedPaths.concat(imgs.slice(0,4));});
 shuffle(selectedPaths);
}else{
 selectedPaths=currentConfig.imagePaths.slice();
}
let gridSize=difficultySlider.value==0?4:6;
memoryGrid.style.gridTemplateColumns=`repeat(${gridSize},1fr)`;
let totalCards=gridSize*gridSize;
let gameCardValues=selectedPaths.slice(0,totalCards/2).flatMap(p=>[p,p]);
shuffle(gameCardValues);
maxPairs=gameCardValues.length/2;
gameCardValues.forEach(p=>{
 const card=document.createElement('div');
 card.classList.add('memory-card');
 card.dataset.path=p;
 card.innerHTML=`<div class="front-face"><img src="${BASE_URL}${p}" alt="Memory Bild"></div><div class="back-face">ðŸ¦Š</div>`;
 card.addEventListener('click',flipCard);
 memoryGrid.appendChild(card);
 cards.push(card);
});
}

function flipCard(){
if(lockBoard||this===firstCard||this.classList.contains('match'))return;
this.classList.add('flip');
if(!firstCard){firstCard=this;return;}
secondCard=this;moves++;statsMoves.textContent=`ZÃ¼ge: ${moves}`;
checkMatch();
}

function checkMatch(){
const isMatch=firstCard.dataset.path===secondCard.dataset.path;
if(isMatch){
 pairsFound++;statsPairsFound.textContent=`Gefunden: ${pairsFound}`;
 firstCard.classList.add('match');secondCard.classList.add('match');
 matchedImages.push(firstCard.querySelector('img').src);
 firstCard.removeEventListener('click',flipCard);secondCard.removeEventListener('click',flipCard);
 resetBoard();
 if(pairsFound===maxPairs){setTimeout(showGallery,500);}
}else{
 lockBoard=true;
 setTimeout(()=>{firstCard.classList.remove('flip');secondCard.classList.remove('flip');resetBoard();},1000);
}
}

function resetBoard(){[firstCard,secondCard,lockBoard]=[null,null,false];}

function showGallery(){
 galleryImagesContainer.innerHTML='';
 matchedImages.forEach(s=>{let img=document.createElement('img');img.src=s;galleryImagesContainer.appendChild(img);});
 galleryOverlay.classList.add('active');
}

closeGalleryButton.addEventListener('click',()=>{galleryOverlay.classList.remove('active');setupGame();});

themeButtons.forEach(btn=>{btn.addEventListener('click',()=>{currentTheme=btn.dataset.theme;currentConfig=gameConfigs[currentTheme];setupGame();});});
difficultySlider.addEventListener('input',setupGame);
document.addEventListener('DOMContentLoaded',setupGame);
</script>
</body>
</html>
